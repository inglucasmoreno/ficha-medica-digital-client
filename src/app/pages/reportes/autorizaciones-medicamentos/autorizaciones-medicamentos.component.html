<!-- Modal: Reportes de turno -->

<div class="flex gsap-contenido justify-center w-full mt-10">
  
  <!-- Filtrado de autorizaciones -->
  <div class="border text-sm rounded-t h-full shadow w-1/3">
    <div class="bg-primary-800 p-2">
      <h1 class="text-white text-xl text-center"> Filtrado de autorizaciones </h1>
    </div>
    <div class="p-2">

        <!-- Tipo de profesional -->
        <div class="mt-2">
        <p class="font-semibold"> Tipo de profesionales </p>
        <select [(ngModel)]="profesional_tipo" class="border border-gray-300 p-2 w-full mt-2 focus:outline-none rounded">
            <option value=""> Todos </option>
            <option value="Internos"> Internos </option>
            <option value="Externos"> Externos </option>
        </select>
        </div>

        <!-- Profesionales internos -->
        <div *ngIf="profesional_tipo === 'Internos'" class="mt-2">
            <p class="font-semibold"> Profesionales internos </p>
            <select [(ngModel)]="profesional_interno" class="border border-gray-300 p-2 w-full mt-2 focus:outline-none rounded">
                <option value=""> Todos los profesionales internos </option>
                <option *ngFor="let interno of medicosInternos" [value]="interno._id"> {{ interno.apellido }} {{ interno.nombre }} </option>
            </select>
        </div>

        <!-- Profesionales externos -->
        <div *ngIf="profesional_tipo === 'Externos'" class="mt-2">
            <p class="font-semibold"> Profesionales externos </p>
            <select [(ngModel)]="profesional_externo" class="border border-gray-300 p-2 w-full mt-2 focus:outline-none rounded">
                <option value=""> Todos los profesionales externos </option>
                <option *ngFor="let externo of medicosExternos" [value]="externo._id"> {{ externo.apellido }} {{ externo.nombre }} </option>
            </select>
        </div>

        <!-- Medicamentos -->
        <div class="mt-2">
            <p class="font-semibold"> Medicamentos </p>
            <select [(ngModel)]="medicamento" class="border border-gray-300 p-2 w-full mt-2 focus:outline-none rounded">
                <option value=""> Todos los medicamentos </option>
                <option *ngFor="let medicamento of medicamentos" [value]="medicamento._id"> {{ medicamento.descripcion }} </option>
            </select>
        </div>

              <!-- Paciente -->
      <div  class="mt-4">
        <p class="font-semibold"> Paciente </p>
        <div *ngIf="!pacienteSeleccionado" class="flex items-center">
          <input (keyup.enter)="buscarPaciente()" [(ngModel)]="pacienteDNI" class="border border-gray-300 p-2 w-full mt-2 focus:outline-none rounded" type="text" placeholder="DNI de paciente">
          <button (click)="buscarPaciente()"  title="Buscar paciente" class="border focus:outline-none border-gray-300 ml-2 mt-2 bg-gray-100 rounded p-2 hover:text-secondaryColor">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
            </svg>
          </button>
        </div>
        <div *ngIf="pacienteSeleccionado" class="flex items-center">
            <p class="bg-green-700 text-white p-2 mt-2 rounded w-max text-xs"> {{ pacienteSeleccionado.apellido_nombre }} - DNI {{ pacienteSeleccionado.dni }}  </p>
            <button (click)="eliminarPacienteSeleccionado()" class="bg-red-700 focus:outline-none ml-2 mt-2 text-white rounded p-2 shadow">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                </svg>    
            </button>
          </div>
      </div>
      
      <button class="bg-secondaryColor font-semibold text-white p-2 rounded w-full mt-4 mb-2 focus:outline-none shadow">
        Generar reporte
      </button>

    </div>
  </div>

  <!-- Imagen de inicio -->
  <img src="assets/img/autorizaciones-medicamentos/autorizaciones.svg" class="w-1/4 ml-6 mt-10 h-full">


</div>
